# BASH LINUX

## Часто встречающиеся основные основы

### Сравнение чисел

| Обозначение | Описание                                                  |
| :---------- | :-------------------------------------------------------- |
| n1 -eq n2   | Возвращает истинное значение, если n1 равно n2.           |
| n1 -ge n2   | Возвращает истинное значение, если n1больше или равно n2. |
| n1 -gt n2   | Возвращает истинное значение, если n1 больше n2.          |
| n1 -le n2   | Возвращает истинное значение, если n1меньше или равно n2. |
| n1 -lt n2   | Возвращает истинное значение, если n1 меньше n2.          |
| n1 -ne n2   | Возвращает истинное значение, если n1не равно n2.         |

---

### Сравнение строк

| Обозначение  | Описание                                                                 |
| :----------- | :----------------------------------------------------------------------- |
| str1 = str2  | Проверяет строки на равенство, возвращает истину, если строки идентичны. |
| str1 != str2 | Возвращает истину, если строки не идентичны.                             |
| str1 < str2  | Возвращает истину, если str1меньше, чем str2.                            |
| str1 > str2  | Возвращает истину, если str1больше, чем str2.                            |
| -n str1      | Возвращает истину, если длина str1больше нуля.                           |
| -z str1      | Возвращает истину, если длина str1равна нулю.                            |

---

### Проверки файлов

| Обозначение     | Описание                                                                                                                |
| :-------------- | :---------------------------------------------------------------------------------------------------------------------- |
| -d file         | Проверяет, существует ли файл, и является ли он директорией.                                                            |
| -e file         | Проверяет, существует ли файл.                                                                                          |
| -f file         | Проверяет, существует ли файл, и является ли он файлом.                                                                 |
| -r file         | Проверяет, существует ли файл, и доступен ли он для чтения.                                                             |
| -s file         | Проверяет, существует ли файл, и не является ли он пустым.                                                              |
| -w file         | Проверяет, существует ли файл, и доступен ли он для записи.                                                             |
| -x file         | Проверяет, существует ли файл, и является ли он исполняемым.                                                            |
| file1 -nt file2 | Проверяет, новее ли file1, чем file2.                                                                                   |
| file1 -ot file2 | Проверяет, старше ли file1, чем file2.                                                                                  |
| -O file         | Проверяет, существует ли файл, и является ли его владельцем текущий пользователь.                                       |
| -G file         | Проверяет, существует ли файл, и соответствует ли его идентификатор группы идентификатору группы текущего пользователя. |

---

### Параметры командной строки

| Обозначение | Описание                                                                                                                   |
| :---------- | :------------------------------------------------------------------------------------------------------------------------- |
| basename $0 | Название скрипта без абсолютного или относительного пути.                                                                  |
| $1          | Первый параметр.                                                                                                           |
| $2          | Второй параметр — и так далее, вплоть до переменной $9, в которую попадает девятый параметр.                               |
| ${10}       | Если скрипту надо больше девяти параметров, при обращении к ним номер в имени переменной надо заключать в фигурные скобки. |
| $#          | Общее количество параметров, переданных сценарию при вызове.                                                               |
| ${!#}       | Последний из переданных скрипту параметров.                                                                                |
| $\*         | Содержит все параметры, введённые в командной строке, в виде единого "слова".                                              |
| $@          | В этой переменной параметры разбиты на отдельные "слова". Эти параметры можно перебирать в циклах.                         |
| shift       | Сдвигает значения позиционных параметров. При каждом её вызове значение переменной $1 безвозвратно теряется.               |

> Когда надо использовать и параметры командной строки, и ключи применяют специальную последовательность символов, которая сообщает скрипту о том, когда заканчиваются ключи и начинаются обычные параметры. Эта последовательность — двойное тире (--). Оболочка использует её для указания позиции, на которой заканчивается список ключей. После того, как скрипт обнаружит признак окончания ключей, то, что осталось, можно, не опасаясь ошибок, обрабатывать как параметры, а не как ключи.

---

    #!/bin/bash
    if read -t 5 -p "Enter your name: " name; then
        echo "Hello $name, welcome to my script"
    else
        echo "Sorry, too slow!"
    fi

> Если данные не будут введены в течение 5 секунд, скрипт выполнит ветвь условного оператора else, выведя извинения.

---

    #!/bin/bash
    read -s -p "Enter your password: " pass
    echo "Is your password really $pass?"

> Ключ -s команды read предотвращает отображение на экране данных, вводимых с клавиатуры за счет изменения цвета текста таким же, как цвет фона.

---

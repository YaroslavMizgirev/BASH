# BASH LINUX

## Основные основы

### Логические операторы

| Обозначение   | Описание                                                                                                                                                                                                                         |
| :------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- | ------------- |
| n1 -eq n2     | Возвращает истинное значение, если n1 равно n2.                                                                                                                                                                                  |
| n1 -ge n2     | Возвращает истинное значение, если n1 больше или равно n2.                                                                                                                                                                       |
| n1 -gt n2     | Возвращает истинное значение, если n1 больше n2.                                                                                                                                                                                 |
| n1 -le n2     | Возвращает истинное значение, если n1 меньше или равно n2.                                                                                                                                                                       |
| n1 -lt n2     | Возвращает истинное значение, если n1 меньше n2.                                                                                                                                                                                 |
| n1 -ne n2     | Возвращает истинное значение, если n1 не равно n2.                                                                                                                                                                               |
| str1 = str2   | Возвращает истинное значение, если строки идентичны.                                                                                                                                                                             |
| str1 != str2  | Возвращает истинное значение, если строки не идентичны.                                                                                                                                                                          |
| str1 < str2   | Возвращает истинное значение, если str1меньше, чем str2.                                                                                                                                                                         |
| str1 > str2   | Возвращает истинное значение, если str1больше, чем str2.                                                                                                                                                                         |
| -n str1       | Возвращает истинное значение, если длина str1больше нуля.                                                                                                                                                                        |
| -z str1       | Возвращает истинное значение, если длина str1равна нулю.                                                                                                                                                                         |
| !             | Отрицание логического выражения                                                                                                                                                                                                  |
| -a, (&&)      | логическое «И»                                                                                                                                                                                                                   |
| -o, (\|\|)    | логическое «ИЛИ»                                                                                                                                                                                                                 |
|               | В качестве команд возвращающих код возврата могут выступать структуры [[условие]], [ условие ], test, (( условие )) или любая другая (или несколько) linux-команд.                                                               |
| test          | используется для логического сравнения, для проверки типа файла и сравнения чисел и строк. Возвращает 0(TRUE) или 1(FALSE) в зависимости от вычисления выражения. Например: test 3 -gt 4 вернет 1(FALSE).                        |
| [ условие ]   | Синоним команды test.                                                                                                                                                                                                            |
| [[условие]]   | Расширенная версия "[" (начиная с версии 2.02), внутри которой могут быть использованы                                                                                                                                           |     | (или), &&(и). |
| (( условие )) | математическое сравнение. Составная команда(( условие )) оценивает арифметическое выражение и устанавливает статус выдачи равный 1, если выражение равно 0, или статус выдачи равный 0, если выражение имеет ненулевое значение. |

---

### Проверка файлов

| Обозначение     | Описание                                                                                                                |
| :-------------- | :---------------------------------------------------------------------------------------------------------------------- |
| -d file         | Проверяет, существует ли файл, и является ли он директорией.                                                            |
| -e file         | Проверяет, существует ли файл (также -a).                                                                               |
| -f file         | Проверяет, существует ли файл, и является ли он файлом.                                                                 |
| -h              | Символьная ссылка (также -L).                                                                                           |
| -r file         | Проверяет, существует ли файл, и доступен ли он для чтения.                                                             |
| -s file         | Проверяет, существует ли файл, и не является ли он пустым.                                                              |
| -w file         | Проверяет, существует ли файл, и доступен ли он для записи.                                                             |
| -x file         | Проверяет, существует ли файл, и является ли он исполняемым.                                                            |
| -N file         | Был ли изменен со времени последнего прочтения.                                                                         |
| file1 -nt file2 | Проверяет, новее ли file1, чем file2.                                                                                   |
| file1 -ot file2 | Проверяет, старше ли file1, чем file2.                                                                                  |
| file1 -ef file2 | Проверяет, является ли file1 жесткой ссылкой на file2.                                                                  |
| -O file         | Проверяет, существует ли файл, и является ли его владельцем текущий пользователь.                                       |
| -G file         | Проверяет, существует ли файл, и соответствует ли его идентификатор группы идентификатору группы текущего пользователя. |

---

### Математические операции

| Обозначение | Описание                                                                                                                                                                                                                                            |
| :---------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| let         | Команда производящая арифметические операции над числами и переменными: let "c = a + b". Позволяет использовать сокращения арифметических команд, тем самым сокращая кол-во используемых переменных. Например: a = a + b эквивалентно a += b и т.п. |
| +           | Сложение.                                                                                                                                                                                                                                           |
| -           | Вычитание.                                                                                                                                                                                                                                          |
| \*          | Умножение.                                                                                                                                                                                                                                          |
| /           | Деление.                                                                                                                                                                                                                                            |
| \*\*        | Возведение в степень.                                                                                                                                                                                                                               |
| %           | Модуль (деление по модулю), Остаток от деления.                                                                                                                                                                                                     |
| ++          | Инкремент.                                                                                                                                                                                                                                          |
| --          | Декремент.                                                                                                                                                                                                                                          |

---

### Перенаправление потоков

| Обозначение | Описание                                                                                                                                    |
| :---------- | :------------------------------------------------------------------------------------------------------------------------------------------ |
| 0 (stdin)   | Стандартный ввод. Это все что набирает юзер в консоли.                                                                                      |
| 1 (stdout)  | Стандартный вывод. Сюда попадает все что выводят программы.                                                                                 |
| 2 (stderr)  | Стандартный вывод ошибок.                                                                                                                   |
| >           | (перенаправление вывода). Если есть необходимость дописывать в файл (при использовании ">" он заменяется), то вместо ">" использовать ">>". |
| <           | (перенаправление ввода).                                                                                                                    |

---

### Зарезервированные переменные bash

| Обозначение | Описание                                                                                                                                                               |
| :---------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| $DIRSTACK   | Содержимое вершины стека каталогов.                                                                                                                                    |
| $EDITOR     | Текстовый редактор по умолчанию.                                                                                                                                       |
| $EUID       | Эффективный UID. Если вы использовали программу su для выполнения команд от другого пользователя, то эта переменная содержит UID этого пользователя, в то время как... |
| $UID        | ...содержит реальный идентификатор, который устанавливается только при логине.                                                                                         |
| $FUNCNAME   | Имя текущей функции в скрипте.                                                                                                                                         |
| $GROUPS     | Массив групп к которым принадлежит текущий пользователь.                                                                                                               |
| $HOME       | Домашний каталог пользователя.                                                                                                                                         |
| $HOSTNAME   | Ваш hostname.                                                                                                                                                          |
| $HOSTTYPE   | Архитектура машины.                                                                                                                                                    |
| $LC_CTYPE   | Внутренняя переменная, котороя определяет кодировку символов.                                                                                                          |
| $OLDPWD     | Прежний рабочий каталог.                                                                                                                                               |
| $OSTYPE     | Тип ОС.                                                                                                                                                                |
| $PATH       | Путь поиска программ.                                                                                                                                                  |
| $PPID       | Идентификатор родительского процесса.                                                                                                                                  |
| $SECONDS    | Время работы скрипта(в сек.).                                                                                                                                          |
| $#          | Общее количество параметров переданных скрипту.                                                                                                                        |
| ${!#}       | Последний из переданных скрипту параметров.                                                                                                                            |
| $\*         | Все аргументы переданыне скрипту(выводятся в строку).                                                                                                                  |
| $@          | Тоже самое, что и предыдущий, но параметры выводятся в столбик.                                                                                                        |
| $!          | PID последнего запущенного в фоне процесса.                                                                                                                            |
| $$          | PID самого скрипта.                                                                                                                                                    |
| $?          | Статус возврата значения можно указать с помощью ключевого слова return и оно присваивается этой переменной.                                                           |
| basename $0 | Название скрипта без абсолютного или относительного пути.                                                                                                              |
| shift       | Сдвигает значения позиционных параметров. При каждом её вызове значение переменной $1 безвозвратно теряется.                                                           |

---

### Функции bash

| Обозначение | Описание                                                          |
| :---------- | :---------------------------------------------------------------- |
| declare     | Вывод всех функций bash с описанием их кода. Аналог 'declare -f'. |
| declare -f  | Вывод всех функций bash с описанием их кода                       |
| declare -F  | Вывод только имен всех функций bash                               |

---

### Мои функции bash

> В .bashrc прописываю команды:
> source /home/username/bash-workspace/<название первого файла с функциями>
> source /home/username/bash-workspace/<название второго файла с функциями>

| Обозначение | Описание |
| :---------- | :------- |
|             |          |
